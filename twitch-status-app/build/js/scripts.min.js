"use strict";$(function(){function n(n){i.find("button").removeClass("btn--active"),n.addClass("btn--active")}function a(n,e){var t=e||"streams",i="https://api.twitch.tv/kraken/"+t+"/"+n+"?client_id=zw4ez3387m23jod5tuzeebtdbknd0b";$.getJSON(i).done(function(e){if(console.log(e),e.stream){s({logo:e.stream.channel.logo,name:e.stream.channel.display_name,icon:"img/online.png",isOnline:!0,statusText:e.stream.channel.status})}else if(e.name===n){var t={logo:e.logo,name:e.display_name,icon:"img/offline.png",isOnline:!1};s(t)}else a(n,"users")})}function s(n){var a="",s="";if(n.isOnline){a='<i class="channel-card__status" data-online="true" title="online"><svg class="channel-card__status-icon"><use xlink:href="img/status.svg#root"></use></svg></i>'}else{a='<i class="channel-card__status" data-online="false" title="offline"><svg class="channel-card__status-icon" style="fill: #FF4242;"><use xlink:href="img/status.svg#root"></use></svg></i>'}n.statusText&&(s='<p class="channel-card__descr">'+n.statusText+"</p>");var e='<a href="#" class="channel-card__name">'+n.name+"</a>",t='<div class="channel-card__info">'+e+s+"</div>",i='<img class="channel-card__img" src='+n.logo+">",l=$('<div class="channel-card">'+i+t+a+"</div>");$(".results-container").append(l)}function e(n){var a=$(".channel-card");a.hide(),"online"===n?a.each(function(){"true"===$(this).find("i").attr("data-online")&&$(this).show()}):"offline"===n?a.each(function(){"false"===$(this).find("i").attr("data-online")&&$(this).show()}):a.show()}var t=["mathil1","freecodecamp","sing_sing","dreamhackcs","esl_sc2","jacksofamerica","ogamingsc2","faceittv","purgegamers"],i=$(".controls");t.forEach(function(n){a(n)}),i.on("click",function(a){$(a.target).hasClass("btn--all")?(n($(a.target)),e("all")):$(a.target).hasClass("btn--online")?(n($(a.target)),e("online")):$(a.target).hasClass("btn--offline")&&(n($(a.target)),e("offline"))})});